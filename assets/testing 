import { execFileSync } from 'child_process';

export const config: WebdriverIO.Config = {
  onComplete() {
    console.log('‚úÖ All tests completed! Generating Allure report...');

    try {
      // Run the new package.json script instead of manually calling execFileSync
      execFileSync('npm', ['run', 'generate-allure-report'], { stdio: 'inherit' });

      console.log('‚úÖ Allure report generated. You can open it manually with:');
      console.log('üëâ npm run open-allure-report');

    } catch (error) {
      console.error('‚ùå Error generating Allure report:', error);
    }
  }
};